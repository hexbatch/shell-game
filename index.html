<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css" >

    <!-- Toast Wrapper -->
    <link rel="stylesheet" href="node_modules/bs4-toast/dist/toast.min.css">

    <!-- Tokenfield   -->
    <link rel="stylesheet" href="node_modules/tokenfield/dist/tokenfield.css">

    <!-- Select2 -->
    <link href="node_modules/select2/dist/css/select2.min.css" rel="stylesheet" />

    <!-- Tingle -->
    <link href="node_modules/tingle.js/dist/tingle.min.css" rel="stylesheet" />

    <!-- Font Awesome -->
    <link href="node_modules/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet" />

    <!-- My Styles-->
    <link rel="stylesheet" href="css/shell-style.css" >
    <link rel="stylesheet" href="css/common.css" >
    <link rel="stylesheet" href="css/main-screen.css" >
    <link rel="stylesheet" href="css/edit-element.css" >


    <title>Shell Game</title>

    <script>
        /**
         * The object which holds the game
         * @type {ShellGameKeeper}
         */
        let shell_game_thing;
    </script>
</head>
<body>


<div class="container-fluid mx-3 mt-3">

    <div class="row">
        <div class="col-sm-12 col-md-3 d-flex flex-column justify-content-center order-2 order-md-1">
            <div class="pb-1 pb-md-0">
                <input class="form-control shell-game-text-tagger" placeholder="" title="Enter Tags">
            </div>
        </div>
        <div class="col-sm-12 col-md-6 order-1 order-md-1">
            <h1>Shell Emulator</h1>
        </div>
        <div class="col order-3">
            <!-- space for future -->
        </div>
    </div>

    <div class="row">
        <div class="col col-sm-12 col-md-12 col-lg order-1 order-lg-3 mr-lg-2">
            <div class="card " >
                <div class="card-body">
                    <h5 class="card-title">Check Yaml</h5>
                    <p class="card-text  ">
                        This will load and then write back out to the yaml editor. Nothing will be run
                        <span style="display: inline-block;width: 100%; border-bottom: 1px solid whitesmoke; margin-top: 0.5em; margin-bottom: 0.5em"></span>
                        <button id="shell-game-load" type="button" class="btn btn-warning border border-light">Check and Load</button>
                    </p>
                </div>

                <div class="card-body">
                    <h5 class="card-title">Execute</h5>
                    <p class="card-text ">
                        Step through code one turn at a time, each time, the new results will be written out the YAML
                        <span style="display: inline-block;width: 100%; border-bottom: 1px solid whitesmoke; margin-top: 0.5em; margin-bottom: 0.5em"></span>
                        <button id="shell-game-step" type="button" class="btn btn-success border border-dark">Step</button>
                    </p>
                </div>

                <div class="card-body">
                    <h5 class="card-title">Add Shell with Name</h5>
                    <p class="card-text ">
                        You can add unlimited shells, the new shells will be inserted under their parent, if their parent shell is running
                        <span style="display: inline-block;width: 100%; border-bottom: 1px solid whitesmoke; margin-top: 0.5em; margin-bottom: 0.5em"></span>
                        <select id="shell-game-master-list" class="form-control bg-info" title="Pick Shell" autocomplete="off">
                            <option value="">(Check or Step First)</option>
                        </select>
                        <br>
                        <button id="shell-game-add" type="button" class="btn btn-info">Add</button>
                    </p>

                </div>



            </div> <!-- /.card -->
        </div>

        <div class="col-11 col-sm-12 col-md-12 col-lg-3 order-2 order-lg-2">
            <div class="card " >
                <div class="card-body">
                    <h5 class="card-title">Elements</h5>
                    <div class="card-text shell-game-element-holder">
                        <select id="shell-game-element-list" title="Elements" class="form-control"></select>
                    </div> <!-- /.shell-game-holder -->
                    <p>
                        <button class="btn btn-sm btn-outline-info" id="shell-game-edit-selected-element">
                            Edit
                        </button>
                    </p>
                </div> <!-- /.card-body -->

                <div class="card-body">
                    <h5 class="card-title">Inspect</h5>
                    <div class="card-text">
                        <label for="shell-game-inspect-box">Enter Guid</label>
                        <input class="form-control" id="shell-game-inspect-box" title="Enter GUID here" placeholder="GUID-xxxx-xx...">
                    </div> <!-- /.shell-game-holder -->
                    <p>
                        <button class="btn btn-sm btn-outline-info" id="shell-game-inspect-with">
                            Inspect
                        </button>
                    </p>
                </div> <!-- /.card-body -->
            </div> <!-- /.card -->
        </div>

        <div class="col-11 col-sm-12 col-md-12 col-lg-6 order-3 order-lg-1">
            <div class="card " >
                <div class="card-body">
                    <h5 class="card-title">Yaml Display</h5>
                    <div class="card-text shell-game-yaml-holder">
                        <div id="shell-game-editor"></div>
                    </div> <!-- /.shell-game-holder -->
                </div> <!-- /.card-body -->
            </div> <!-- /.card -->
        </div>

    </div>

</div>











<div style="display: none">

<!--    ------------------------------------- Element Editor -------------------------------------------------       -->

    <div class="shell-game-element-editor">

        <input type="hidden" class="shell-game-edit-element-this">
        <div class="container-fluid">
            <div class="row">

            </div>
            <div class="card " >
                <div class="card-body">
                    <div class="card-text">
                        <div class="row">
                            <div class="col-sm-12 col-md-6">
                                    <div class="input-group mb-3">

                                        <input type="text" value="" title="Element Name" placeholder="Element Name" class="shell-game-edit-element-name form-control ">
                                       <input type="color" class="form-control shell-game-edit-element-color" title="Element Color">
                                    </div>
                                <small class="">
                                    <code class=" shell-game-edit-element-guid border text-monospace text-break align-top p-2 "></code>
                                </small>

                            </div>


                            <div class="col">
                                <div class="btn-group float-right">
                                    <button type="button" class="btn btn-outline-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        History
                                    </button>
                                    <div class="dropdown-menu shell-game-element-history">
                                        <div class="dropdown-divider"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div> <!-- /.shell-game-holder -->
                </div> <!-- /.card-body -->
            </div> <!-- /.card -->



            <div class="row mt-1">


                <div class="col-sm-12 col-md-6">
                    <div class="card " >
                        <div class="card-body">
                            <h5 class="card-title">Variables</h5>
                            <div class="card-text">
                               <table class="table table-striped table-light shell-game-edit-element-variables">
                                   <thead>
                                   <tr>
                                       <th scope="col">Name</th>
                                       <th scope="col">Initial Value</th>
                                       <th scope="col">Delete</th>
                                   </tr>
                                   </thead>
                                   <tbody></tbody>
                               </table>
                                <div class="text-right">
                                    <button id="shell-game-edit-new-element-variable" type="button" class="btn btn-outline-success">New Variable</button>
                                </div>
                            </div> <!-- /.shell-game-holder -->
                        </div> <!-- /.card-body -->
                    </div> <!-- /.card -->
                </div> <!-- /.col -->

                <div class="col-sm-12 col-md-6">
                    <div class="card " >
                        <div class="card-body">
                            <h5 class="card-title">Gloms</h5>
                            <div class="card-text">
                                <table class="table table-striped table-light shell-game-edit-element-gloms">
                                    <thead>
                                    <tr>
                                        <th scope="col">Reference</th>
                                        <th scope="col">Target</th>
                                        <th scope="col">Delete</th>
                                    </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                <div class="text-right">
                                    <button id="shell-game-edit-new-element-glom" type="button" class="btn btn-outline-success">New Glom</button>
                                </div>
                            </div> <!-- /.shell-game-holder -->
                        </div> <!-- /.card-body -->
                    </div> <!-- /.card -->
                </div> <!-- /.col -->


                <div class="col-12 col-sm-12 col-md-12">
                    <div class="card " >
                        <div class="card-body">
                            <h5 class="card-title">Script Editor</h5>
                            <div class="card-text shell-game-edit-element-script-holder">
                                <div id="shell-game-edit-element-script"></div>
                            </div> <!-- /.shell-game-holder -->
                        </div> <!-- /.card-body -->
                    </div> <!-- /.card -->
                </div>


            </div><!-- /.row -->
        </div>

    </div> <!-- /.shell-game-element-editor-->

</div>

<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="node_modules/jquery/dist/jquery.min.js" ></script>
<script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js" ></script>
<script src="node_modules/ace-builds/src-min-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="node_modules/bs4-toast/dist/toast.min.js"></script>
<script src="node_modules/js-yaml/dist/js-yaml.min.js"></script>
<script src="node_modules/lodash/lodash.min.js"></script>
<script src="node_modules/tokenfield/dist/tokenfield.min.js"></script>
<script src="node_modules/select2/dist/js/select2.min.js"></script>
<script src="node_modules/uuid/dist/umd/uuid.min.js"></script>
<script src="node_modules/tingle.js/dist/tingle.min.js"></script>

<!-- My Stuff-->
<script src="js/errors.js"></script>
<script src="js/gui/toast.js"></script>


<script src="js/shell/shell-game-serialized.js"></script>
<script src="js/shell/glom.js"></script>
<script src="js/shell/variable.js"></script>
<script src="js/shell/element.js"></script>
<script src="js/shell/element_state.js"></script>
<script src="js/shell/template.js"></script>
<script src="js/shell/shell.js"></script>
<script src="js/shell/run.js"></script>
<script src="js/shell/element_lib.js"></script>
<script src="js/shell/shell_lib.js"></script>

<script src="js/keeper/event_hook.js"></script>
<script src="js/keeper/glom_library_reference.js"></script>
<script src="js/keeper/glom_running_reference.js"></script>
<script src="js/keeper/keeper.js"></script>



<script src="js/gui/game-main.js"></script>
<script src="js/gui/editor_gui.js"></script>

<script src="js/gui/gui-select-shell.js"></script>
<script src="js/gui/edit-element.js"></script>
<script src="js/gui/gui-select-element.js"></script>
<script src="js/gui/gui-tags.js"></script>
<script src="js/gui/load.js"></script>
<script src="js/gui/step.js"></script>
<script src="js/gui/toast.js"></script>
<script src="js/gui/extras.js"></script>
</body>
</html>
